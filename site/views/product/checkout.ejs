<%- include('../partials/head.ejs'); %>

<%- include('../partials/header.ejs'); %>
<main>
    <% for(let i = 0; i < cartData.products.length; i++){ %>
        <article class="productoCarrito">
            <input type="hidden" id="product_id" name="product_id" value="<%= cartData.products[i].id%>">
            <input type="hidden" id="product_quantity" name="product_quantity" value="<%= cartData.products[i].CartProduct.cantidad%>">
            <div class="imagenCarrito">
                <img src="../images/productsImages/<%= cartData.products[i].imagen%>" alt="">
            </div>
            <div class="informacionProducto">
                <p><%= cartData.products[i].nombre_producto%></p>
                <p>CANTIDAD:</p>
                <div>   
                    <p id="inputCantidad" class="inputCantidad" type="number" class="cantidadAgregaCarrito" name="product_quantity"><%=cartData.products[i].CartProduct.cantidad %></p>
                </div>
                <p>Precio </p>
                <p class="pPrecio">$<%= cartData.products[i].precio %></p>
                <p>Subtotal</p>
                <p class="pSubtotal">$<%=cartData.products[i].CartProduct.cantidad * cartData.products[i].precio%></p>
            </div>
        </article>
    <% } %>
        <div class="contenedorOpciones">
            <div class="contenedorEntrega">
            <h4>Â¿Desea envio a domicilio?</h4>
                <p id="errorEnvio" style="display: none; color: red;"><strong>Debes seleccionar una opcion</strong></p>
                <input type="radio" name="delivery" id="deliverySi" value="si"><span>Si</span><br>
                <input type="radio" name="delivery" id="deliveryNo" value="no"><span>No</span><br>
            </div>
            <div class="contenedorNodos" style="display: none;">
                <h4>En que nodo desea retirar sus productos?</h4>
                <p style="display: none; color: red;" id="errorEnvioNodo"><strong>Debes seleccionar una opcion</strong></p>
                <input type="radio" name="nodo" id="nodo1" value="nodo1"><span>Nodo 1</span><br>
                <input type="radio" name="nodo" id="nodo2" value="nodo2"><span>Nodo 2</span><br>
                <input type="radio" name="nodo" id="nodo3" value="nodo3"><span>Nodo 3</span><br>
            </div>
            <div class="contenedorDomicilio" style="display: none;">
                <h3>DOMICILIO:</h3>
                <p>CALLE:</p><input type="text" name="calle" id="calle" value="<%= cartData.user.calle%>" disabled>
                <p>ALTURA:</p><input type="text" name="altura" id="altura" value="<%= cartData.user.altura%>" disabled>
                <p>PISO:</p><input type="text" name="piso" id="piso" value="<%= cartData.user.piso%>" disabled>
                <p>DEPARTAMENTO:</p><input type="text" name="departamento" id="departamento" value="<%= cartData.user.departamento%>" disabled>
                <p>BARRIO:</p><input type="text" name="barrio" id="barrio" value="<%= cartData.user.barrio%>" disabled>
                <p>LOCALIDAD:</p><input type="text" name="localidad" id="localidad" value="<%= cartData.user.localidad%>" disabled><br>
                <h4>Desea elegir otro domicilio de entrega?</h4>
                <button class="claseButton" id="editarDomicilio">EDITAR</button>
            </div>
            <div class="contenedorObservaciones">
                <h3>OBSERVACIONES:</h3>
                <textarea id="observaciones" cols="50" rows="10"></textarea>
            </div>
        </div>
    <button class="claseButton" id="finalizarcompra">COMPRAR</button>
</main>
<script src="/js/checkout.js"></script>
<%- include('../partials/footer.ejs'); %>
