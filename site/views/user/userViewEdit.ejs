
<%- include('../partials/head.ejs'); %>

<%- include('../partials/header.ejs'); %>
    
        <div class="contenedorForm">
        <h1>Mi perfil</h1>
        
        <% if(typeof errors != "undefined"){%>
        <div class="errorMessageForm">
        <% errors.forEach(element => {  %>
            <%if(element.msg !== "Invalid value"){ %>
        <p><%=element.msg%></p>
        <%}%>
        <% }) %>
        </div>
        <%}%>
        
        
        <form method="POST" enctype="multipart/form-data" action="/usuarios/perfil">
            
           <div>
            <input type="text" name="apellido" id="apellido" placeholder="Apellido" <%_ if(typeof data != "undefined"){ _%>value="<%=data.apellido%>"<%_ }else{_%>disabled value="<%=user.apellido_usuario%>"<%_}_%>
            >
        

           
            <input type="text" name="nombreUsuario" id="nombreUsuario" placeholder="Nombre"<%_ if(typeof data != "undefined"){ _%>value="<%=data.nombreusuario%>"<%_ }else{_%>disabled value="<%=user.nombre_usuario%>"<%_}_%>
            >
        </div>
          
            <input disabled type="email" name="emailRegister" id="emailRegister" placeholder="Email"<%_ if(typeof data != "undefined"){ _%>value="<%=data.email%>"<%_ }else{_%> value="<%=user.email_usuario%>"<%_}_%>
            >
           
<div>
            <input type="tel" name="telefono" placeholder="Telefono"<%_ if(typeof data != "undefined"){ _%>value="<%=data.telefono%>"<%_ }else{_%>disabled value="<%=user.telefono_usuario%>"<%_}_%>
            >
        

            <input type="number" name="dni" placeholder="dni"<%_ if(typeof data != "undefined"){ _%>value="<%=data.dni%>"<%_ }else{_%> disabled value="<%=user.dni%>"<%_}_%>>

        </div>      
        <div> 
            <input type="text" name="calle" placeholder="Calle"<%_ if(typeof data != "undefined"){ _%>value="<%=data.calle%>"<%_ }else{_%>disabled value="<%=user.calle%>"<%_}_%>>


            <input type="text" name="altura" placeholder="Altura"<%_ if(typeof data != "undefined"){ _%>value="<%=data.altura%>"<%_ }else{_%>disabled value="<%=user.altura%>"<%_}_%>>

        </div>
        
        <div>
            <input type="text" name="piso" placeholder="Piso"<%_ if(typeof data != "undefined"){ _%>value="<%=data.piso%>"<%_ }else{_%>disabled value="<%=user.piso%>"<%_}_%>>
            
        
            <input type="text" name="departamento" placeholder="Departamento"<%_ if(typeof data != "undefined"){ _%>value="<%=data.departamento%>"<%_ }else{_%>disabled value="<%=user.departamento%>"<%_}_%>>
        </div>
        <div>
        <p id="pBarrio">Barrio:</p><select name="barrio" id="barrio" disabled><% if(typeof data != "undefined"){%>
                <option value="<%= data.barrio %>" selected><%= data.barrio %></option>
            <%}else if(user.barrio != ""){%>
                <option value="<%= user.barrio %>" selected><%= user.barrio %></option>
            <%}%></select>

        

            <input type="text" name="localidad" placeholder="Localidad" value="Ciudad de Cordoba" id="localidad" disabled>

</div>

            <p>Avatar</p>

            <label class="uploadImage">
                <i class="fa fa-cloud-upload"></i><span>Subir imagen</span>
                <input type="file" name="avatar" placeholder="Subir ImÃ¡genes" <%_ if(typeof data == "undefined"){ _%> disabled <%_ }_%>>
            </label>
            
            <div id="imagenesCargadas">
                <img src="/images/userAvatar/<%_if(typeof data != "undefined"){_%><%=data.avatar%><%_}else{_%><%=user.avatar%><%_}_%>">
            </div> 

            <button id="submitButton" class="claseButton" type="submit">Guardar Cambios</button>
           

        </form>

        <button id="editButton" class="claseButton" >Editar mi perfil</button>

        
    </div>

    <script src="/js/userViewEdit.js"></script>
    
    <%- include('../partials/footer.ejs'); %>
